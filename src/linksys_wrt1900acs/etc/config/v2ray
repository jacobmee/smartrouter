
config v2ray 'main'
	option v2ray_file '/usr/bin/v2ray'
	option mem_percentage '0'
	option loglevel 'warning'
	option access_log '/dev/null'
	option error_log '/var/log/v2ray-error.log'
	option stats_enabled '1'
	option inbounds 'dokodemo_door'
	option outbounds 'vmess'
	option enabled '0'

config dns 'main_dns'
	list hosts 'example.com|127.0.0.1'
	option servers 'cloudflare_dns_1 google_dns_1 114_dns_1 ali_dns_1'
	option enabled '1'

config dns_server 'cloudflare_dns_1'
	option alias 'cloudflare_dns_1'
	option address '1.1.1.1'

config dns_server 'google_dns_1'
	option alias 'google_dns_1'
	option address '8.8.8.8'

config dns_server 'op_dns_1'
	option alias 'op_dns_1'
	option address '208.67.222.222'
	option port '5353'

config dns_server '114_dns_1'
	option alias '114_dns_1'
	option address '114.114.114.114'
	option port '53'
	list domains 'geosite:cn'

config dns_server 'ali_dns_1'
	option alias 'ali_dns_1'
	option address '223.5.5.5'
	list domains 'geosite:cn'

config routing 'main_routing'
	option enabled '1'
	option domain_strategy 'IPOnDemand'
	option rules 'direct_cn_ip direct_cn_domain direct_bt route_dns direct_dns proxy_dns direct_ntp'

config routing_rule 'direct_cn_ip'
	option alias 'direct_cn_ip'
	option type 'field'
	list ip 'geoip:private'
	list ip 'geoip:cn'
	option outbound_tag 'direct'

config routing_rule 'direct_cn_domain'
	option alias 'direct_cn_domain'
	option type 'field'
	list domain 'geosite:cn'
	option outbound_tag 'direct'

config routing_rule 'direct_speedtest'
	option alias 'direct_speedtest'
	option type 'field'
	list domain 'geosite:speedtest'
	option outbound_tag 'direct'

config routing_rule 'direct_bt'
	option alias 'direct_bt'
	option type 'field'
	option protocol 'bittorrent'
	option outbound_tag 'direct'

config routing_rule 'block_ad'
	option alias 'block_ad'
	option type 'field'
	list domain 'geosite:category-ads-all'
	option outbound_tag 'block'

config routing_rule 'route_dns'
	option alias 'route_dns'
	option type 'field'
	list network 'udp'
	list port '53'
	list inbound_tag 'transparent'
	option outbound_tag 'dns_out'

config routing_rule 'direct_dns'
	option alias 'direct_dns'
	option type 'field'
	list ip '114.114.114.114'
	list ip '223.5.5.5'
	option outbound_tag 'direct'

config routing_rule 'proxy_dns'
	option alias 'proxy_dns'
	option type 'field'
	list ip '1.1.1.1'
	list ip '8.8.8.8'
	list ip '208.67.222.222'
	option outbound_tag 'proxy'

config routing_rule 'direct_ntp'
	option alias 'direct_ntp'
	option type 'field'
	list network 'udp'
	list port '123'
	option outbound_tag 'direct'

config routing_balancer 'routing_balancer_1'
	option tag 'balancer'
	list selector 'a'
	list selector 'ab'

config policy 'main_policy'
	option enabled '0'

config policy_level 'policy_level_0'
	option level '0'
	option handshake '4'
	option conn_idle '300'
	option uplink_only '2'
	option downlink_only '5'
	option buffer_size '0'

config reverse 'main_reverse'
	option enabled '0'
	list bridges 'bridge|test.v2ray.com'
	list portals 'portal|test.v2ray.com'

config inbound 'socks_proxy'
	option alias 'socks_proxy'
	option listen '0.0.0.0'
	option port '1080'
	option protocol 'socks'
	option s_socks_auth 'noauth'
	option s_socks_udp '1'
	option s_socks_ip '127.0.0.1'
	option sniffing_enabled '1'
	option sniffing_dest_override 'http tls'

config inbound 'dokodemo_door'
	option port '1081'
	option protocol 'dokodemo-door'
	option tag 'transparent'
	option sniffing_enabled '1'
	option sniffing_dest_override 'http tls'
	option alias 'transparent_proxy'
	option s_dokodemo_door_network 'tcp udp'
	option listen '0.0.0.0'

config outbound 'vmess'
	option alias 'vmess'
	option protocol 'vmess'
	option tag 'proxy'
	option s_vmess_address '188.166.54.15'
	option s_vmess_port '36152'
	option s_vmess_user_id 'f41cd5d8-6966-4849-9a0b-bfb9cb7e2841'
	option send_through '192.168.0.1'

config outbound 'direct'
	option alias 'direct'
	option protocol 'freedom'
	option tag 'direct'

config outbound 'block'
	option alias 'block'
	option protocol 'blackhole'
	option tag 'block'

config outbound 'dns_out'
	option alias 'dns_out'
	option protocol 'dns'
	option tag 'dns_out'

config transparent_proxy 'main_transparent_proxy'
	option apnic_delegated_mirror 'apnic'
	option gfwlist_mirror 'github'
	option lan_ifaces 'lan'
	option redirect_port '1081'
	option proxy_mode 'cn_direct'

